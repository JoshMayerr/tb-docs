export const metadata = {
  title: 'Rates',
  description:
    'On this page, we’ll dive into the different endpoints for rates.',
}

# Rates

A rate is the price per access to a certain webpage of content. Content creators set their own rates and every page may have a
different rate.

## The rate model

Detailed view of the fields in a rate response.

### Properties

<Properties>
  <Property name="priceMicros" type="int64">
    The price of the content in micros ($1 = 1,000,000 micros).
  </Property>
  <Property name="currency" type="string">
    The currency in which the price is specified.
  </Property>
  <Property name="error" type="string">
    An error message, if any, encountered during the request.
  </Property>
</Properties>

---

## Get Rate {{ tag: 'GET', label: '/dev/v1/rate/<content_path>' }}

<Row>
  <Col>

    This endoint allows you to manually ask for the rate of a certain webpage. The `<content_path>` is simply the full url
    of the intended webpage.

    ### Optional attributes

    <Properties>
    <Property name="<content_path>" type="string">
        The url for which you intend to access the content.
       </Property>
      <Property name="userAgent" type="string">
        Unique AgentID string for who is allowed to access the page. Make sure to use the AgentID that you will use
        within your application.
       </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/dev/v1/rate/<content_path>">

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.messages.list()
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.messages.list()
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->messages->list();
    ```

    ```bash {{ title: 'cURL' }}
    curl -G https://api.protocol.chat/v1/messages \
      -H "Authorization: Bearer {token}" \
      -d conversation_id=xgQQXg3hrtjh7AvZ \
      -d limit=10
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "has_more": false,
      "data": [
        {
          "id": "SIuAFUNKdSYHZF2w",
          "conversation_id": "xgQQXg3hrtjh7AvZ",
          "contact": {
            "id": "WAz8eIbvDR60rouK",
            "username": "KevinMcCallister",
            "phone_number": "1-800-759-3000",
            "avatar_url": "https://assets.protocol.chat/avatars/buzzboy.jpg",
            "last_active_at": 705103200,
            "created_at": 692233200
          },
          "message": "It’s a nice night for a neck injury.",
          "reactions": [],
          "attachments": [],
          "read_at": 705103200,
          "created_at": 692233200,
          "updated_at": 692233200
        },
        {
          "id": "hSIhXBhNe8X1d8Et",
          // ..
        }
      ]
    }
    ```

  </Col>
</Row>
